!function(t){function e(i){if(o[i])return o[i].exports;var r=o[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),r=(o.n(i),document.getElementById("gameCamera")),s=document.getElementById("scene2"),a=document.getElementById("portal"),n=document.createElement("a-octahedron"),l=["rgb(238, 244, 66)","rgb(24, 89, 58)","rgb(89, 24, 46)"],u=[],c=[],d=0,h=0,m=1,A=0,p=!1,b=0,v=document.getElementById("score"),f=t=>{for(var e=t,o=0,i=0,a=0;a<e;a++){var A,f=document.createElement("a-sphere");c.push(f);var g=100*Math.cos(o),x=100*Math.sin(o),M=-67.131+i,y=l[a%3];f.setAttribute("id","platform"+a),f.setAttribute("position",{x:g,y:x,z:M}),f.setAttribute("scale",{x:23.122,y:4.125,z:14.093}),f.setAttribute("scale-on-mouseenter","to:30 5 20"),f.setAttribute("scale-on-mouseleave","to:23.122, 4.125, 14.093"),f.setAttribute("material","color",y),f.setAttribute("material","metalness","0.5"),s.appendChild(f),a%10!=0&&a%15!=0||(h++,A=document.createElement("a-octahedron"),console.log(u),u.push(A),A.setAttribute("id","platform"+a),A.setAttribute("position",{x:g-5,y:x+10,z:M}),A.setAttribute("scale",{x:2,y:5,z:2}),A.setAttribute("material","color","#38e4be"),A.setAttribute("scale-on-mouseenter","to:3 6 3"),A.setAttribute("scale-on-mouseleave","to:2, 5, 2"),A.setAttribute("cursor-listener",""),A.setAttribute("rotate",""),A.addEventListener("click",function(t){p&&(d++,v.setAttribute("text","value","Level: "+m+"  score: "+d+" / "+h),s.removeChild(this),u.splice(u.indexOf(this),1),console.log(d),d==h&&n.setAttribute("material","color",l[0]))}),s.appendChild(A)),f.addEventListener("click",function(t){if(p){var e=this.getAttribute("position");console.log("platform"),console.log(e),r.setAttribute("position",{x:e.x,y:e.y+15,z:e.z})}}),o+=20,i+=-10,a==e-1&&(b=M,console.log("set portal position"),console.log(a),console.log(b)),console.log("making steps")}},g=()=>{a.setAttribute("position",{x:0,y:0,z:b-100}),a.setAttribute("scale",{x:50,y:50,z:20}),n.setAttribute("position",{x:0,y:0,z:b-100}),n.setAttribute("scale",{x:8,y:15,z:8}),n.setAttribute("material","color",l[2]),n.setAttribute("rotate",""),n.addEventListener("click",function(t){p&&(d==h&&M(),console.log(d))})};document.getElementById("start-button").addEventListener("click",function(){p||(r.setAttribute("position","0 0 -60"),r.setAttribute("rotation","0 0 0"),v.setAttribute("text","value","Level: "+m+"  score: "+d+" / "+h),p=!0)});var x=t=>{A=t;var e=setInterval(function(){A--,v.setAttribute("text","value","Level: "+m+"  score: "+d+" / "+h+"  Remaining time: "+A),console.log(A),0==A&&clearInterval(e)},1e3)},M=()=>{m++,d=0,h=0,E(),y(),z(m),v.setAttribute("text","value","Level: "+m+"  score: "+d+" / "+h)},y=()=>{r.setAttribute("position","0 0 -60"),r.setAttribute("rotation","0 0 0")},E=()=>{for(var t of u)s.removeChild(t);for(var e of c)s.removeChild(e);c=[],u=[]},z=t=>{switch(t){case 1:f(10),g();break;case 2:f(30),x(60),g();break;case 3:f(50),x(100),g();break;case 4:f(80),x(160),g();break;default:var e=t+Math.floor(200*Math.random()+100);f(e),setTimeout(2*e),g()}};window.onload=function(){z(1),s.appendChild(n)}},function(t,e){AFRAME.registerComponent("scale-on-mouseenter",{schema:{to:{"default":"2.5 2.5 2.5"}},init(){var t=this.data;this.el.addEventListener("mouseenter",function(){this.setAttribute("scale",t.to)})}}),AFRAME.registerComponent("scale-on-mouseleave",{schema:{to:{"default":"1 1 1"}},init(){var t=this.data;this.el.addEventListener("mouseleave",function(){this.setAttribute("scale",t.to)})}}),AFRAME.registerComponent("move-to",{schema:{to:{"default":"2.5 2.5 2.5"}},init(){var t=this.data;this.el.addEventListener("mouseenter",function(){this.setAttribute("scale",t.to)})}}),AFRAME.registerComponent("cursor-listener",{init(){var t=["red","green","blue"];this.el.addEventListener("click",function(e){var o=Math.floor(Math.random()*t.length);this.setAttribute("material","color",t[o]),console.log("I was clicked at: ",e.detail.intersection.point)})}}),AFRAME.registerComponent("select-on-fuse",{schema:{to:{"default":"2.5 2.5 2.5"}},init(){var t=this.data;this.el.addEventListener("click",function(){this.setAttribute("rotation",t.to)})}}),AFRAME.registerComponent("follow",{schema:{speed:{"default":"2"}},init(){},update(){},tick(t,e){var o=this.el.getAttribute("position"),i=o.x-.01,r=o.y,s=o.z+.01;this.el.setAttribute("position",{x:i,y:r,z:s})}}),AFRAME.registerComponent("rotate",{schema:{speed:{"default":"2"}},init(){},update(){},tick(t,e){var o=this.el.getAttribute("rotation"),i=o.x,r=o.y+1,s=o.z;this.el.setAttribute("rotation",{x:i,y:r,z:s})}}),AFRAME.registerComponent("pump",{schema:{speed:{"default":"2"}},init(){},update(){},tick(t,e){var o=this.el.getAttribute("position"),i=o.x,r=o.y,s=o.z;this.el.setAttribute("position",{x:i,y:r,z:s})}});var o=!1,i=!1;AFRAME.registerComponent("follow-circle",{schema:{rootA:{"default":"0"},rootB:{"default":"0"},rootRadius:{"default":"3"},speed:{"default":"0.01"}},init(){var t=this.el.getAttribute("position"),e=this.data.rootA-this.data.rootRadius,o=this.data.rootB,i=t.z;this.el.setAttribute("position",{x:e,y:o,z:i})},update(){},tick(t,e){var r,s,a=this.el.getAttribute("position"),n=a.z;Math.abs(this.data.rootA+this.data.rootRadius-a.x)<.001&&(o=!1,i=!1),Math.abs(a.x-(this.data.rootA-this.data.rootRadius))<.001&&(o=!0,i=!1),Math.abs(this.data.rootA-a.x)<.001&&(i=!0),r=o?a.x-this.data.speed:a.x+this.data.speed,s=i?this.data.rootB+Math.sqrt(Math.pow(this.data.rootRadius,2)-Math.pow(r-this.data.rootA,2)):this.data.rootB-Math.sqrt(Math.pow(this.data.rootRadius,2)-Math.pow(r-this.data.rootA,2)),this.el.setAttribute("position",{x:r,y:s,z:n})}}),AFRAME.registerComponent("random-torus-knot",{init(){this.el.setAttribute("geometry",{primitive:"torusKnot",radius:10*Math.random(),radiusTubular:.75*Math.random(),p:Math.round(10*Math.random()),q:Math.round(10*Math.random())})}})}]);